@model List<Question>

@{
    ViewBag.Title = "View Questions";

}

@section ScriptSection {

    <script>
        function ConfirmDelete() {
            if (confirm("Are you sure you want to delete?") == false) {
                event.preventDefault();
                event.stopPropagation();
                return false;

            }
        }

    </script>
}

<span style="color:red">@TempData["Msg"]</span>
<br />
<p>
    <a asp-controller="Quiz" asp-action="CreateQuestion">Create New Question</a>
</p>

<div class="row">
    <div class="col-6">
        <div class="form-horizontal">
            <div>
                <table class="table table-bordered table-condensed table-hover table-striped">
                    <tr>
                        <th>Id</th>
                        <th>Question</th>
                        <th>Topic</th>
                        <th>Option 1</th>
                        <th>Option 2</th>
                        <th>Option 3</th>
                        <th>Option 4</th>
                        <th>Correct Answer</th>
                        @if (User.IsInRole("Admin"))
                        {
                            <th>Created By</th>
                        }
                        <th>Action</th>
                    </tr>
                    @foreach (var item in Model)

                    {
                        <tr>
                            <td>
                                @item.QuestionId
                            </td>
                            <td>
                                @item.Questions
                            </td>
                            <td>
                                @item.Topic
                            </td>
                            <td>
                                @item.FirstOption
                            </td>

                            <td>
                                @item.SecondOption
                            </td>

                            <td>
                                @item.ThirdOption
                            </td>

                            <td>
                                @item.FourthOption
                            </td>

                            <td>
                                @item.CorrectAns
                            </td>


                            @if (User.IsInRole("Admin"))
                            {
                                <td>@item.UserCodeNavigation.Name</td>
                            }

                            <td>
                                <a asp-action="UpdateQuestion" asp-route-id="@item.QuestionId" onclick="return ConfirmUpdate()">Update</a>
                                <a asp-action="DeleteQuestion" asp-route-id="@item.QuestionId" onclick="return ConfirmDelete()">Delete</a>

                            </td>
                        </tr>
                    }


                </table>

            </div>
        </div>
    </div>
</div>